webpackJsonp([10],{122:function(e,t,n){"use strict";var a=n(22),i=n.n(a);t["default"]={data:function(){return{tableAPIList:[],visible:!1,formLabelWidth:"120px",dialogTitle:"",apiModel:{apiName:"",desc:""},visible2:!1,apiParams:[{name:"",type:""}],currentPage:1,pageIndex:0,pageSize:5,total:0}},mounted:function(){this.init()},methods:{init:function(){return this.getAPIList()},addDomain:function(){this.apiParams.push({name:"",type:""})},celldbClick:function(e,t,n,a){log(e),log(t),log($(n).find("div").html())},countAPIList:function(){var e=this;i.a.getDataList.call(e,COUNT_API_LIST,{})["catch"](function(e){console.log("oh no",e)}).then(function(t){e.totle=t.aaData[0].total})},getAPIList:function(){var e=this;$.get(testAPI.countAPIList).then(function(t){return t&&t.data&&t.data[0].total>0?(e.total=t.data[0].total,$.post(testAPI.getAPIList,{PageIndex:e.pageIndex,PageSize:e.pageSize})):{data:[]}}).then(function(t){e.tableAPIList=t.data}).fail(function(){serverError.call(e)})},handleEdit:function(e,t){},handleSizeChange:function(e){this.pageSize=e,this.getAPIList()},handleCurrentChange:function(e){this.currentPage=e,this.pageIndex=(e-1)*this.pageSize,this.getAPIList()},getRowStyle:function(){return{height:"50px"}},cancelForm:function(){this.apiModel.apiName="",this.apiModel.desc="",this.apiParams=[{name:"",type:""}],this.visible=!1},submitForm:function(){var e=this,t=_.map(e.apiParams,function(e){return JSON.stringify(e)}),n={apiname:e.apiModel.apiName,help:e.apiModel.desc,params:t.join()};"编辑"===e.dialogTitle&&(n.Sys_Cmds.did=e.form.id),$.post(testAPI.addAPI,n).then(function(t){t&&200===t.code&&e.getAPIList()}).fail(function(){serverError.call(e)}),setTimeout(function(){e.cancelForm()},0)},removeDomain:function(e){var t=this.apiParams.indexOf(e);t!==-1&&this.apiParams.splice(t,1)},addAPI:function(){this.dialogTitle="新增",this.visible=!0},updateOraddAPI:function(e){var t=this,n="新增"===t.dialogTitle?ADD_API_LIST:UPDATE_API_LIST;i.a.getDataList.call(t,n,{sp:e})["catch"](function(e){t.$message.error(e)}).then(function(){t.init().then(function(){t.$message({message:"新增"===t.dialogTitle?"添加成功":"修改成功",type:"success"})})})},search:function(){}}}},143:function(e,t,n){t=e.exports=n(23)(),t.push([e.i,"\n.inline-input.el-input[data-v-6fdf0cc3]{\r\n\twidth: 25%;float: left;margin-right: 10px;\n}\r\n",""])},206:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button",{attrs:{type:"primary"},on:{click:e.addAPI}},[e._v("新增接口")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.$store.state.global.ajax_loading,expression:"$store.state.global.ajax_loading",modifiers:{body:!0}}],staticStyle:{width:"99%"},attrs:{data:e.tableAPIList,"row-class-name":e.$store.state.global.tableRowClassName,"row-style":e.getRowStyle},on:{"cell-dblclick":e.celldbClick}},[n("el-table-column",{attrs:{prop:"apiname",label:"接口名",width:"150px"}}),n("el-table-column",{attrs:{prop:"params",label:"参数"}}),n("el-table-column",{attrs:{prop:"help",label:"说明",width:"300px"}}),n("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:e._u([["default",function(t){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}]])})],1),n("div",{staticClass:"block flex-x-end"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("el-dialog",{attrs:{title:e.dialogTitle},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("el-form",{attrs:{model:e.apiModel}},[n("el-form-item",{attrs:{label:"接口名称","label-width":e.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.apiModel.apiName,callback:function(t){e.apiModel.apiName=t},expression:"apiModel.apiName"}})],1),n("el-form-item",{attrs:{label:"说明","label-width":e.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.apiModel.desc,callback:function(t){e.apiModel.desc=t},expression:"apiModel.desc"}})],1)],1),e._l(e.apiParams,function(t,a){return n("el-form",[n("el-form-item",{attrs:{label:"参数"+a,"label-width":e.formLabelWidth}},[n("el-input",{staticClass:"inline-input",attrs:{placeholder:"参数名"},model:{value:t.name,callback:function(e){t.name=e},expression:"param.name"}}),n("el-input",{staticClass:"inline-input",attrs:{placeholder:"类型"},model:{value:t.type,callback:function(e){t.type=e},expression:"param.type"}}),n("el-button",{on:{click:function(n){n.preventDefault(),e.removeDomain(t)}}},[e._v("删除")])],1)],1)}),n("div",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{on:{click:e.addDomain}},[e._v("新增参数")]),n("el-button",{on:{click:e.cancelForm}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],2),n("el-popover",{ref:"popover5",attrs:{placement:"top",width:"160"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[n("p",[e._v("这是一段内容这是一段内容确定删除吗？")]),n("div",{staticStyle:{"text-align":"right",margin:"0"}},[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible2=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.visible2=!1}}},[e._v("确定")])],1)])],1)},staticRenderFns:[]}},230:function(e,t,n){var a=n(143);"string"==typeof a&&(a=[[e.i,a,""]]);n(82)(a,{});a.locals&&(e.exports=a.locals)},64:function(e,t,n){var a,i;n(230),a=n(122);var o=n(206);i=a=a||{},"object"!=typeof a["default"]&&"function"!=typeof a["default"]||(Object.keys(a).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),i=a=a["default"]),"function"==typeof i&&(i=i.options),i.__file="F:\\1\\src\\page\\demo\\api_manage.vue",i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-6fdf0cc3",i.functional&&console.error("[vue-loader] api_manage.vue: functional components are not supported and should be defined in plain js files using render functions."),e.exports=a},82:function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var a=e[n],i=d[a.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](a.parts[o]);for(;o<a.parts.length;o++)i.parts.push(r(a.parts[o],t))}else{for(var l=[],o=0;o<a.parts.length;o++)l.push(r(a.parts[o],t));d[a.id]={id:a.id,refs:1,parts:l}}}}function a(e){for(var t=[],n={},a=0;a<e.length;a++){var i=e[a],o=i[0],l=i[1],r=i[2],s=i[3],c={css:l,media:r,sourceMap:s};n[o]?n[o].parts.push(c):t.push(n[o]={id:o,parts:[c]})}return t}function i(e,t){var n=f(),a=v[v.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function r(e,t){var n,a,i;if(t.singleton){var r=h++;n=m||(m=l(t)),a=s.bind(null,n,r,!1),i=s.bind(null,n,r,!0)}else n=l(t),a=c.bind(null,n),i=function(){o(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}function s(e,t,n,a){var i=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var o=document.createTextNode(i),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(o,l[t]):e.appendChild(o)}}function c(e,t){var n=t.css,a=t.media,i=t.sourceMap;if(a&&e.setAttribute("media",a),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var d={},u=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=u(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=u(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,h=0,v=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var i=a(e);return n(i,t),function(e){for(var o=[],l=0;l<i.length;l++){var r=i[l],s=d[r.id];s.refs--,o.push(s)}if(e){var c=a(e);n(c,t)}for(var l=0;l<o.length;l++){var s=o[l];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete d[s.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}});