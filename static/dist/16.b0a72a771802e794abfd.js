webpackJsonp([16],{124:function(e,t,n){"use strict";var s=n(22);n.n(s);t["default"]={data:function(){return{fileList:[{url:""}]}},methods:{beforeUpload:function(e){var t=this.$store.state.user.token,n=this,s=!1;return t&&$.ajax({url:testAPI.authToken,async:!1,type:"POST",data:{token:t}}).done(function(e){e&&e.success?s=!0:n.$msgbox({title:"提示",message:"token已过期,请重新登陆",type:"error"})}).fail(function(){serverError.call(n)}),s},handleRemove:function(e,t){this.fileList=[{url:PIC_API+DEFAULT_HEAD_PIC}]},handlePreview:function(e){console.log(e)},handleSuccess:function(e,t,n){this.fileList=[{url:t.url}]},save:function(){var e=this;e.$confirm("确认保存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$store.dispatch("update_headPic",{url:e.fileList[0].url}).then(function(){e.$message({type:"success",message:"保存成功!"})})})["catch"](function(){})}},mounted:function(){var e=this;e.fileList[0].url=e.$store.state.user.headPic}}},190:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("h2",[e._v("个人头像")]),n("el-upload",{staticClass:"upload-box",attrs:{action:"//jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,"file-list":e.fileList,"list-type":"picture"}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),n("div",{staticClass:"el-upload__tip",slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1),n("el-button",{attrs:{size:"small",type:"success"},on:{click:e.save}},[e._v("保存头像")])],1)},staticRenderFns:[]}},66:function(e,t,n){var s,o;s=n(124);var i=n(190);o=s=s||{},"object"!=typeof s["default"]&&"function"!=typeof s["default"]||(Object.keys(s).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o=s=s["default"]),"function"==typeof o&&(o=o.options),o.__file="F:\\1\\src\\page\\demo\\editInfo.vue",o.render=i.render,o.staticRenderFns=i.staticRenderFns,o.functional&&console.error("[vue-loader] editInfo.vue: functional components are not supported and should be defined in plain js files using render functions."),e.exports=s}});